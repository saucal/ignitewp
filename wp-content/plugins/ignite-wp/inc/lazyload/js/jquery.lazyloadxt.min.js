!function(e,t,n,o){"use strict";function a(e,t){return e[t]===o?y[t]:e[t]}function i(){var e=t.pageYOffset;return e===o?m.scrollTop:e}function r(e,t){var n=y["on"+e];n&&(E(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),d()}function l(t){r(t.type,e(this).off(h,l))}function s(n){if(I.length){n=n||y.forceLoad,T=1/0;var o,a,s=i(),c=t.innerHeight||m.clientHeight,d=t.innerWidth||m.clientWidth;for(o=0,a=I.length;a>o;o++){var u,f=I[o],v=f[0],p=f[A],C=!1,w=n||b(v,g)<0;if(e.contains(m,v)){if(n||!p.visibleOnly||v.offsetWidth||v.offsetHeight){if(!w){var z=v.getBoundingClientRect(),B=p.edgeX,L=p.edgeY;u=z.top+s-L-c,w=s>=u&&z.bottom>-L&&z.left<=d+B&&z.right>-B}if(w){f.on(h,l),r("show",f);var X=p.srcAttr,k=E(X)?X(f):v.getAttribute(X);k&&(v.src=k),C=!0}else T>u&&(T=u)}}else C=!0;C&&(b(v,g,0),I.splice(o--,1),a--)}a||r("complete",e(m))}}function c(){B>1?(B=1,s(),setTimeout(c,y.throttle)):B=0}function d(e){I.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&T>=i()||(B||setTimeout(c,0),B=2))}function u(){w.lazyLoadXT()}function f(){s(!0)}var A="lazyLoadXT",g="lazied",h="load error",v="lazy-hidden",m=n.documentElement||n.body,p=t.onscroll===o||!!t.operamini||!m.getBoundingClientRect,y={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:p,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:v},onload:{removeClass:v,addClass:"lazy-loaded"},onerror:{removeClass:v},checkDuplicates:!0},C={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},w=e(t),E=e.isFunction,z=e.extend,b=e.data||function(t,n){return e(t).data(n)},I=[],T=0,B=0;e[A]=z(y,C,e[A]),e.fn[A]=function(n){n=n||{};var o,i=a(n,"blankImage"),l=a(n,"checkDuplicates"),s=a(n,"scrollContainer"),c=a(n,"show"),u={};e(s).on("scroll",d);for(o in C)u[o]=a(n,o);return this.each(function(o,a){if(a===t)e(y.selector).lazyLoadXT(n);else{var s=l&&b(a,g),f=e(a).data(g,c?-1:1);if(s)return void d();i&&"IMG"===a.tagName&&!a.src&&(a.src=i),f[A]=z({},u),r("init",f),I.push(f),d()}})},e(n).ready(function(){r("start",w),w.on(y.loadEvent,u).on(y.updateEvent,d).on(y.forceEvent,f),e(n).on(y.updateEvent,d),y.autoInit&&u()})}(window.jQuery||window.Zepto||window.$,window,document);